#!/bin/bash

#--------------------------------------------------------------------------------
# Version : 230217
#--------------------------------------------------------------------------------
 

#
#--------------------------------------------------------------------------------
function fn_error_check(){
	if [ -z "$option1" ] || [ -z "$option2" ]
	then
		fn_help_message
	fi

	current_path=`pwd`
	if [ -f $current_path/DBDeployer ]
	then
		echo "  error> working path check"
		exit
	fi
}
#--------------------------------------------------------------------------------


#
#--------------------------------------------------------------------------------
function fn_help_message(){
	echo ""
	echo "[*] DB Deployer shell script"
	echo "-----------------------------------------------------------------"
	echo " usage: ./DBDeployer [option1] [option2]"
	echo "-----------------------------------------------------------------"
	echo " option1"
	echo "	tibero		: tibero installation"
	echo "	cubrid		: cubrid installation"
	echo "-----------------------------------------------------------------"
	echo " option2"
	echo "	run 		: start installation"
	echo "	auto		: automatic installation (with docker)"
	echo "-----------------------------------------------------------------"
	echo ""
}
#--------------------------------------------------------------------------------


#
#--------------------------------------------------------------------------------
export option1=$1
export option2=$2
fn_error_check

case $option1
	"tibero"|"TIBERO")
		option1_value="tibero"
			if [ "$option2" == "run" ]
			then
				$current_path/tibero/install/main.sh
			elif [ "$options2" == "auto" ]
			then
				$current_path/tibero/install/main.sh
			else
				fn_help_message
			fi
		;;
	"cubrid"|"CUBRID")
		option1_value="cubrid"
			if [ "$option2" == "run" ]
			then
				bash $current_path/cubrid/install/main.sh
			elif [ "$options2" == "auto" ]
			then
				bash $current_path/cubrid/install/main.sh
			else
				fn_help_message
			fi
		;;
	*)
		fn_help_message
		;;	
esac
#--------------------------------------------------------------------------------